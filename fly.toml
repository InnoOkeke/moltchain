# Moltchain Agent - Fly.io Configuration
# Runs the OpenClaw autonomous agent 24/7 as a BACKGROUND WORKER

app = "moltchain"
primary_region = "iad"

[build]
  dockerfile = "Dockerfile"

[env]
  NODE_ENV = "production"
  BASE_RPC_URL = "https://mainnet.base.org"

# Background worker - no HTTP service
[processes]
  agent = "pnpm openclaw start"

# Machine configuration
[[vm]]
  size = "shared-cpu-1x"
  memory = "512mb"
  processes = ["agent"]

# Only run 1 machine (important for agents to avoid double-actions)
[deploy]
  min_machines_running = 1
  strategy = "recreate"
